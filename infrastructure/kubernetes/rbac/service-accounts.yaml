# Service Accounts for HNP Modernization
apiVersion: v1
kind: ServiceAccount
metadata:
  name: hnp-admin
  namespace: kube-system
  labels:
    app.kubernetes.io/managed-by: terraform
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: hnp-developer
  namespace: hnp-modernization
  labels:
    app.kubernetes.io/managed-by: terraform
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: hnp-readonly
  namespace: hnp-modernization
  labels:
    app.kubernetes.io/managed-by: terraform
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: prometheus
  namespace: observability
  labels:
    app.kubernetes.io/managed-by: terraform
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: grafana
  namespace: observability
  labels:
    app.kubernetes.io/managed-by: terraform
---
# ClusterRoleBindings
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: hnp-admin-binding
  labels:
    app.kubernetes.io/managed-by: terraform
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: hnp-admin
subjects:
- kind: ServiceAccount
  name: hnp-admin
  namespace: kube-system
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: hnp-developer-binding
  labels:
    app.kubernetes.io/managed-by: terraform
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: hnp-developer
subjects:
- kind: ServiceAccount
  name: hnp-developer
  namespace: hnp-modernization
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: hnp-readonly-binding
  labels:
    app.kubernetes.io/managed-by: terraform
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: hnp-readonly
subjects:
- kind: ServiceAccount
  name: hnp-readonly
  namespace: hnp-modernization
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: prometheus-binding
  labels:
    app.kubernetes.io/managed-by: terraform
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: hnp-monitoring
subjects:
- kind: ServiceAccount
  name: prometheus
  namespace: observability