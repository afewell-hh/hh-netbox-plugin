{% load static %}

<div class="crd-stats-panel card">
    <div class="card-header">
        <h5 class="card-title mb-0">
            <i class="mdi mdi-format-list-bulleted-type"></i> Custom Resources
        </h5>
    </div>
    <div class="card-body">
        <div class="crd-stats-grid row g-3 mb-3">
            <div class="col-6 col-md-3">
                <div class="stat-card text-center p-3 border rounded">
                    <div class="stat-value h3 mb-1 text-primary">{{ object.crd_count|default:0 }}</div>
                    <div class="stat-label small text-muted">Total CRDs</div>
                </div>
            </div>
            
            <div class="col-6 col-md-3">
                <div class="stat-card text-center p-3 border rounded">
                    <div class="stat-value h3 mb-1 text-info">{{ object.cached_vpc_count|default:0 }}</div>
                    <div class="stat-label small text-muted">VPCs</div>
                </div>
            </div>
            
            <div class="col-6 col-md-3">
                <div class="stat-card text-center p-3 border rounded">
                    <div class="stat-value h3 mb-1 text-success">{{ object.cached_connection_count|default:0 }}</div>
                    <div class="stat-label small text-muted">Connections</div>
                </div>
            </div>
            
            <div class="col-6 col-md-3">
                <div class="stat-card text-center p-3 border rounded">
                    <div class="stat-value h3 mb-1 text-warning">{{ object.switches_count|default:0 }}</div>
                    <div class="stat-label small text-muted">Switches</div>
                </div>
            </div>
        </div>
        
        {% if object.error_crd_count %}
        <div class="alert alert-warning">
            <i class="mdi mdi-alert-triangle"></i>
            <strong>{{ object.error_crd_count }} CRD{{ object.error_crd_count|pluralize }} with errors</strong>
        </div>
        {% endif %}
        
        <div class="crd-actions d-grid gap-2">
            <a href="{% url 'plugins:netbox_hedgehog:fabric_crds' pk=object.pk %}" 
               class="btn btn-primary">
                <i class="mdi mdi-format-list-bulleted-type"></i> View All CRDs
            </a>
            
            <div class="btn-group" role="group">
                <a href="{% url 'plugins:netbox_hedgehog:vpc_list' %}?fabric={{ object.pk }}" 
                   class="btn btn-outline-secondary btn-sm">
                    <i class="mdi mdi-cloud-outline"></i> VPCs
                </a>
                <a href="{% url 'plugins:netbox_hedgehog:connection_list' %}?fabric={{ object.pk }}" 
                   class="btn btn-outline-secondary btn-sm">
                    <i class="mdi mdi-cable-data"></i> Connections
                </a>
                <a href="{% url 'plugins:netbox_hedgehog:switch_list' %}?fabric={{ object.pk }}" 
                   class="btn btn-outline-secondary btn-sm">
                    <i class="mdi mdi-switch"></i> Switches
                </a>
            </div>
        </div>
    </div>
</div>